(function(c,d){'object'==typeof exports&&'undefined'!=typeof module?module.exports=d(require('../popper/index.js')):'function'==typeof define&&define.amd?define(['../popper/index.js'],d):c.Tooltip=d(c.Popper)})(this,function(c){'use strict';c='default'in c?c['default']:c;var d=Object.assign||function(g){for(var h=1;h<arguments.length;h++){var j=arguments[h];for(var k in j)Object.prototype.hasOwnProperty.call(j,k)&&(g[k]=j[k])}return g};const e={container:!1,delay:0,html:!1,placement:'top',title:'',template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:'hover focus',offset:0};var f=function(){this.show=()=>this._show(this.reference,this.options),this.hide=()=>this._hide(),this.dispose=()=>this._dispose(),this.toggle=()=>{return this._isOpen?this.hide():this.show()},this.arrowSelector='.tooltip-arrow, .tooltip__arrow',this.innerSelector='.tooltip-inner, .tooltip__inner',this._events=[],this._setTooltipNodeEvent=(g,h,j,k)=>{const l=g.relatedreference||g.toElement,m=n=>{const o=n.relatedreference||n.toElement;this._tooltipNode.removeEventListener(g.type,m),this._isElOrChildOfEl(o,h)||this._scheduleHide(h,k.delay,k,n)};return!!this._isElOrChildOfEl(l,this._tooltipNode)&&(this._tooltipNode.addEventListener(g.type,m),!0)}};return class{constructor(h,j){f.call(this),j=d({},e,j),h.jquery&&(h=h[0]),this.reference=h,this.options=j;const k='string'==typeof j.trigger?j.trigger.split(' ').filter(l=>{return-1!==['click','hover','focus'].indexOf(l)}):[];this._isOpen=!1,this._setEventListeners(h,k,j)}_create(h,j,k,l){const m=window.document.createElement('div');m.innerHTML=j;const n=m.childNodes[0];n.id=`tooltip_${Math.random().toString(36).substr(2,10)}`,n.setAttribute('aria-hidden','false');const o=m.querySelector(this.innerSelector);if(1===k.nodeType)l&&o.appendChild(k);else if(c.Utils.isFunction(k)){const p=k.call(h);l?o.innerHTML=p:o.innerText=p}else l?o.innerHTML=k:o.innerText=k;return n}_show(h,j){if(this._isOpen)return this;if(this._isOpen=!0,this._tooltipNode)return this._tooltipNode.style.display='',this._tooltipNode.setAttribute('aria-hidden','false'),this.popperInstance.update(),this;const k=h.getAttribute('title')||j.title;if(!k)return this;const l=this._create(h,j.template,k,j.html);l.setAttribute('aria-describedby',l.id);var m=!1===j.container?h.parentNode:j.container;this._append(l,m);const n={placement:j.placement,arrowElement:this.arrowSelector};return j.boundariesElement&&(n.boundariesElement=j.boundariesElement),this.popperInstance=new c(h,l,n),this._tooltipNode=l,this}_hide(){return this._isOpen?(this._isOpen=!1,this._tooltipNode.style.display='none',this._tooltipNode.setAttribute('aria-hidden','true'),this):this}_dispose(){return this._tooltipNode&&(this._hide(),this.popperInstance.destroy(),this._events.forEach(({func:h,event:j})=>{this._tooltipNode.removeEventListener(j,h)}),this._events=[],this._tooltipNode.parentNode.removeChild(this._tooltipNode),this._tooltipNode=null),this}_findContainer(h){return'string'==typeof h?h=window.document.querySelector(h):!1===h&&(h=window.document.body),h}_append(h,j){j.appendChild(h)}_setEventListeners(h,j,k){const l=j.map(n=>{switch(n){case'hover':return'mouseenter';case'focus':return'focus';case'click':return'click';default:}}),m=j.map(n=>{switch(n){case'hover':return'mouseleave';case'focus':return'blur';case'click':return'click';default:}}).filter(n=>!!n);l.forEach(n=>{const o=p=>{!0===this._isOpen||(p.usedByTooltip=!0,this._scheduleShow(h,k.delay,k,p))};this._events.push({event:n,func:o}),h.addEventListener(n,o)}),m.forEach(n=>{const o=p=>{!0===p.usedByTooltip||this._scheduleHide(h,k.delay,k,p)};this._events.push({event:n,func:o}),h.addEventListener(n,o)})}_scheduleShow(h,j,k){const l=j&&j.show||j||0;window.setTimeout(()=>this._show(h,k),l)}_scheduleHide(h,j,k,l){const m=j&&j.hide||j||0;window.setTimeout(()=>{if(!1!==this._isOpen&&document.body.contains(this._tooltipNode)){if('mouseleave'===l.type){const n=this._setTooltipNodeEvent(l,h,j,k);if(n)return}this._hide(h,k)}},m)}_isElOrChildOfEl(h,j){return h===j||j.contains(h)}}});

//# sourceMappingURL=tooltip.min.js.map